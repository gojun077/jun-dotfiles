#!/bin/bash
#~/.bash_profile_ubuntu
#
# Last Updated: Dec 23 2021
#
# Config for interactive login shell (run at initial connection)

export BROWSER=firefox
export EDITOR=emacs
export TERM=xterm-256color
export WINEPREFIX=/MULTIMEDIA/wine
export PYTHONBREAKPOINT=ipdb.set_trace

if [ -f ~/.bash_aliases  ]; then
  #shellcheck source=/home/junbuntu/dotfiles/bash_aliases
  source ~/.bash_aliases
fi

if [ -f ~/"SpiderOak Hive/bashrc_secure/bash_aliases_secure" ]; then
  #shellcheck source=/home/junbuntu/dotfiles/bash_aliases
  source ~/"SpiderOak Hive/bashrc_secure/bash_aliases_secure"
fi

###################################################################
#       SSH AGENT AND KEY SETTINGS
#
# start ssh-agent if it's not running; but run only one at a time
# https://wiki.archlinux.org/title/SSH_keys#ssh-agent
if ! pgrep -u "$USER" ssh-agent > /dev/null; then
    ssh-agent -t 1h > "$XDG_RUNTIME_DIR/ssh-agent.env"
fi
if [[ ! "$SSH_AUTH_SOCK" ]]; then
    source "$XDG_RUNTIME_DIR/ssh-agent.env" >/dev/null
fi

# if no ssh privkeys added to ssh-agent, add them
if ! ssh-add -l; then
  ssh-add ~/.ssh/archjun_rsa
fi
###################################################################


# source .bashrc
if [ -f ~/.bashrc ]; then
  #shellcheck source=/home/junbuntu/.bashrc
  source ~/.bashrc
fi

if [ -d ~/.cargo ]; then
  source "$HOME/.cargo/env"
fi

GPG_TTY=$(tty)
export GPG_TTY

