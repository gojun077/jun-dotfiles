#
# ~/.bashrc
#

# If not running interactively, don't do anything
case $- in
    *i*) ;;
      *) return;;
esac

export BROWSER=firefox
export EDITOR=vim

##### ibus IME settings #####
export GTK_IM_MODULE=ibus
export XMODIFIERS=@im=ibus
export QT_IM_MODULE=ibus
export CLUTTER_IM_MODULE=ibus
export ECORE_IMF_MODULE=xim
# Note: for ibus to work in non-GTK/QT apps, the ibus-daemon
# must be launched with the following options:
#env IBUS_ENABLE_SYNC_MODE=0 ibus-daemon -rdx &
#############################

export TERM=xterm-256color

if [ -f  /usr/sbin/pacman ]; then
  archey3 # Archlinux only
fi

PS1='[\u@\h \W]\$ '
alias ls='ls --color=auto'
alias vi='vim'
#alias fbterm='fbterm -n "WenQuanYi Micro Hei" --font-width=11 -s 14'

# When you run ssh-agent for the first time, you need to add
# your private key(s) with 'ssh-add /path/to/priv/key'

alias genpw='date +%s | sha256sum | base64 | head -c 32 ; echo'

# vim: ts=2 sw=2 et :
# don't put duplicate lines or lines starting with space in the history.
# See bash(1) for more options
HISTCONTROL=ignoreboth

# append to the history file, don't overwrite it
shopt -s histappend

# for setting history length see HISTSIZE and HISTFILESIZE in bash(1)
HISTSIZE=10000
HISTFILESIZE=50000

# start ssh-agent if it's not running; this is useful
# for non-GUI ssh sessions
if ! pidof ssh-agent; then
  eval $(ssh-agent)
fi

# if no ssh privkeys added to ssh-agent, add them
if ! ssh-add -l; then
  ssh-add ~/.ssh/archjun_rsa
fi
